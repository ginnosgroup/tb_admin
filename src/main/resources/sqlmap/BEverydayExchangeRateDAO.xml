<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.zhinanzhen.b.dao.EverydayExchangeRateDAO">

    <insert id="add" parameterType="org.zhinanzhen.b.dao.pojo.EverydayExchangeRateDO" useGeneratedKeys="true" keyProperty="id">
        INSERT
            INTO b_everyday_exchange_rate (
                gmt_create,
                gmt_modify,
                currency,
                original_exchange_rate,
                znz_exchange_rate,
                update_time)
            VALUES (
                now(),
                now(),
                #{currency},
                #{originalExchangeRate},
                #{znzExchangeRate},
                #{updateTime});
    </insert>

    <select id="getLastOne" resultType="org.zhinanzhen.b.dao.pojo.EverydayExchangeRateDO">
        SELECT
            id,
            currency,
            original_exchange_rate AS originalExchangeRate,
            znz_exchange_rate AS znzExchangeRate,
            update_time AS updateTime
        FROM b_everyday_exchange_rate ORDER BY update_time DESC LIMIT 1;
    </select>

</mapper>
